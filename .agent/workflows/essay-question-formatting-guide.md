---
description: 考題分類檔案格式規範指南（適用於所有科目）
---

# 考題分類檔案格式規範指南

## 📋 總覽

本指南定義了考題分類 Markdown 檔案的標準格式，適用於所有科目（資訊安全、資料結構、資料庫應用等）。

## 🎯 標準格式範例

### 完整範例

```markdown
# 陣列、鏈結串列與遞迴 - 歷年試題彙整

**關鍵字**：陣列, Array, 列優先, 行優先, Row Major, Column Major...

**總題數**：78 題

---

## [114] [高等考試] 二、114年公務人員高等考試三級考試試題.txt
**關鍵字**：陣列

二、有一個三維整數陣列 A[3][6][8]，每個元素占用 4 個記憶體空間，每個記
憶體空間均有位址。該陣列在儲存至記憶體時，會先被轉換為一維陣列
的形式儲存。下列位址皆為十進位，已知 A[0][1][2]的記憶體位址為
2040，A[1][4][5]的位址為 2340。請問陣列 A 在記憶體中的儲存方式為
何？是以列為主（row-major）還是以行為主（column-major）？（10 分）

請計算 A[1][5][3]在記憶體中的位址為何？（10 分）

---

## [113] [關務特考、身心障礙特考、國軍轉任特考] [三等考試] 四、113年公務人員特種考試關務人員.txt
**關鍵字**：陣列

四、有一棵二元樹（binary tree）利用一維陣列來存放其節點...
請回答下列問題：（每小題 10 分，共 30 分）

⑴若有 n 個鍵值，請說明兩個主要操作...

⑵請判斷下面的敘述是否為真...

⑶在結構上最小堆積為一個完全二元樹...

---
```

## 📐 格式規範詳解

### 1. 檔案標題（第一行）

**格式：**
```markdown
# [類別名稱] - 歷年試題彙整
```

**範例：**
- `# 陣列、鏈結串列與遞迴 - 歷年試題彙整`
- `# 資訊安全基礎與密碼學 (InfoSec Fundamentals & Cryptography)`

### 2. 檔案元資訊

```markdown
**關鍵字**：關鍵字1, 關鍵字2, 關鍵字3...

**總題數**：XX 題
```

- 關鍵字：列出該分類的主要關鍵字（最多 10 個左右）
- 總題數：該檔案包含的題目總數

### 3. 題目標題格式 ⭐⭐⭐

**標準格式：**
```markdown
## [年份] [考別] [等別] 題號、檔名.txt
```

**組成元素說明：**

| 元素 | 格式 | 範例 | 說明 |
|------|------|------|------|
| **年份** | `[NNN]` | `[114]` `[113]` | 民國年份，用方括號包裹 |
| **考別** | `[考試類別]` | `[高等考試]` `[普通考試]` | 考試類別全稱 |
| **等別** | `[等級]` | `[三等考試]` `[二級]` `[四等]` | 如有等別資訊則包含，否則省略 |
| **題號** | `X、` | `一、` `二、` `三、` | 中文數字題號 |
| **檔名** | `XXX.txt` | `114年公務人員高等考試三級考試試題.txt` | 原始來源檔案名稱 |

**考別標準化：**
- `[高等考試]` - 公務人員高等考試
- `[普通考試]` - 公務人員普通考試
- `[關務特考、身心障礙特考、國軍轉任特考]` - 特種考試關務人員、身心障礙人員考試
- `[地方特考、離島特考]` - 特種考試地方政府公務人員考試

**完整範例：**
```markdown
## [114] [高等考試] [二級] 四、114150_1109_資訊管理與資通安全研.txt
## [113] [關務特考、身心障礙特考、國軍轉任特考] [三等考試] 一、113年公務人員特種考試關務人員.txt
## [112] [地方特考、離島特考] [三等考試] 二、112年特種考試地方政府公務人員考試試題.txt
```

### 4. 關鍵字行

**格式：**
```markdown
**關鍵字**：關鍵字1, 關鍵字2, 關鍵字3...
```

**說明：**
- 從題目內容中智能提取匹配的關鍵字
- 最多顯示 5 個相關關鍵字
- 如果沒有匹配的關鍵字，可省略此行

**範例：**
```markdown
**關鍵字**：陣列, Array
**關鍵字**：KMP, Pattern, 字串比對
**關鍵字**：Authentication, 鑑別
```

### 5. 題目內容格式 ⭐⭐⭐

**核心原則：**

#### ✅ 必須做到：
1. **不使用 code block** - 題目內容直接以純文字呈現，絕對不能用 ` ```text ... ``` ` 包裹
2. **保留所有原有換行** - 保持 PDF 提取的原始換行結構
3. **小題前後有空行** - 在小題編號（⑴⑵⑶ 等）前後添加空行
4. **移除代號和頁次** - 刪除所有「代號：」和「頁次：」資訊

#### ❌ 絕對不能：
1. **不能過度合併換行** - 不要嘗試「智能」合併換行，會破壞程式碼、表格等結構
2. **不能刪除空白行** - 保留題目中的空白行，這些是有意義的分隔
3. **不能改動原始文字** - 保持 PDF 提取的原始內容，包括標點符號、空格等

**小題編號識別：**
需要在這些格式前後添加空行：
- `⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽` (圓圈數字)
- `(1)(2)(3)(4)(5)` (括號數字)
- `①②③④⑤⑥⑦⑧⑨⑩` (實心圓圈數字)
- `(一)(二)(三)` (括號中文數字)

**範例：**
```markdown
請回答下列問題：（每小題 10 分，共 30 分）

⑴若有 n 個鍵值，請說明兩個主要操作（加入（Insert）與擷取最小者
（Delete_Min））的時間複雜度。

⑵請判斷下面的敘述是否為真，並請說明原因：
若以此優先佇列進行排序（Sorting），其所對應的排序原理為插入排
序（Insertion Sort）。

⑶在結構上最小堆積為一個完全二元樹...
```

### 6. 題目分隔

每道題目之間使用：
```markdown
---
```

- 獨立一行
- 前後各有一個空行

### 7. 檔案結尾

確保檔案結尾有一個換行符號（`\n`）。

## 🚨 常見問題與陷阱

### 問題 1：題目擠在一起，沒有分段

**錯誤範例：**
```markdown
請回答下列問題：（10分）
⑴若有n個鍵值...
⑵請判斷下面的敘述...
```

**正確範例：**
```markdown
請回答下列問題：（10分）

⑴若有n個鍵值...

⑵請判斷下面的敘述...
```

**解決方案：**
使用 `beautify_format.py` 腳本在小題編號前添加空行。

### 問題 2：使用 code block 包裹題目

**錯誤範例：**
```markdown
## [114] 一、題目...

```text
一、有一個三維整數陣列...
```
```

**正確範例：**
```markdown
## [114] 一、題目...

一、有一個三維整數陣列...
```

### 問題 3：過度合併換行導致內容破壞

**錯誤做法：**
嘗試將多行合併成一行，導致程式碼、表格等結構被破壞。

**正確做法：**
保留 PDF 提取的原始換行結構。

### 問題 4：代號和頁次未移除

**錯誤範例：**
```markdown
代號：41320
頁次：2－2
```

**正確做法：**
這些行應該被完全移除。

## 🎨 PDF 轉換特殊情況

### 1. 表格中的填空欄位

**原始內容：**
```
failure value ? ? ? ? ? ? ? ? ?
```

**說明：**
- `?` 代表考題中的填空欄位
- 這是正常的，不需要修改
- 保持原樣即可

### 2. 數學符號顯示問題

**常見情況：**
- `mn` 應理解為 `m×n`（矩陣維度）
- `nl` 應理解為 `n×l`
- 這是 PDF 轉換的限制

**處理方式：**
- 保持原樣
- 在閱讀時根據上下文理解

### 3. 特殊字符

某些字符在編輯器中可能顯示為方框（□），但這通常是：
- 字體顯示問題
- 不影響實際內容
- 無需特別處理

## 🛠️ 處理流程

### 標準處理流程

```bash
# 1. PDF 轉文字（一次性）
cd exam_resources
python3 convert_pdfs_with_pdfplumber.py

# 2. 分類生成 Markdown（會自動應用正確格式）
python3 classify_questions.py

# 3. 美化格式（添加小題空行）
cd ../essay_guides
python3 beautify_format.py

# 4. 驗證結果
# - 檢查是否有 99_unclassified.md
# - 檢查格式是否符合標準
# - 檢查是否有代號和頁次殘留
```

### 驗證檢查清單

- [ ] 題目標題使用 `## [年份] [考別] [等別] 題號、檔名.txt` 格式
- [ ] 每道題目有關鍵字行
- [ ] 題目內容沒有使用 code block
- [ ] 小題編號前後有空行
- [ ] 無代號和頁次資訊
- [ ] 檔案結尾有換行符號
- [ ] 沒有 99_unclassified.md 或未歸類題目數量為 0

## 📂 相關腳本說明

### classify_questions.py
**位置：** `exam_resources/classify_questions.py`

**功能：**
- 從 processed_text 讀取 PDF 轉換的文字檔案
- 解析題目（按中文數字題號分割）
- 根據關鍵字分類題目
- 生成符合標準格式的 Markdown 檔案

**關鍵配置：**
- `CATEGORIES` - 定義分類和關鍵字
- `generate_markdown()` - 控制題目標題格式
- `extract_keywords_from_content()` - 提取關鍵字

### beautify_format.py
**位置：** `essay_guides/beautify_format.py`

**功能：**
- 在小題編號前添加空行
- 只添加，不刪除任何內容
- 改善題目可讀性

**使用時機：**
- 生成 Markdown 後發現題目擠在一起
- 需要改善小題分隔

### clean_metadata.py
**位置：** `essay_guides/clean_metadata.py`

**功能：**
- 移除代號和頁次資訊
- 從標題和內容中清除

**使用時機：**
- 發現有代號或頁次殘留時

## 🔄 新科目處理步驟

當需要處理新科目時（如資訊管理、資料庫應用等）：

### 1. 準備工作
```bash
# 創建目錄結構
mkdir -p [科目名稱]/exam_resources/original_pdfs
mkdir -p [科目名稱]/exam_resources/processed_text
mkdir -p [科目名稱]/essay_guides/classified_questions
```

### 2. 準備 PDF 檔案
將考試 PDF 檔案放入 `exam_resources/original_pdfs/`

### 3. 複製並修改腳本

**複製分類腳本：**
```bash
cp data_structure/exam_resources/classify_questions.py \
   [科目名稱]/exam_resources/
```

**修改 `CATEGORIES` 字典：**
根據新科目定義分類和關鍵字。

### 4. 執行處理流程
參考上述「標準處理流程」執行。

### 5. 驗證與調整
根據「驗證檢查清單」檢查結果。

## 💡 最佳實踐建議

### DO ✅
1. **保留原始內容** - 保持 PDF 提取的原始文字
2. **創建備份** - 執行腳本前備份檔案
3. **分階段處理** - 先轉換、再分類、最後美化
4. **驗證結果** - 每個步驟後檢查輸出
5. **使用標準格式** - 嚴格遵守本指南的格式規範

### DON'T ❌
1. **不要過度處理** - 不要嘗試「修正」原始內容
2. **不要合併換行** - 保留原始換行結構
3. **不要刪除檔案** - 如有錯誤，從備份恢復而不是重新生成
4. **不要手動編輯** - 盡量使用腳本自動化處理
5. **不要忽略驗證** - 每次處理後必須驗證結果

## 📚 參考檔案

### 標準格式範例
- **資訊安全：** `information_security/essay_guides/classified_questions/08_cryptography_fundamentals.md`
- **資料結構：** `data_structure/essay_guides/classified_questions/01_arrays_linked_lists_recursion.md`

### 關鍵腳本
- **PDF 轉換：** `exam_resources/convert_pdfs_with_pdfplumber.py`
- **題目分類：** `exam_resources/classify_questions.py`
- **格式美化：** `essay_guides/beautify_format.py`
- **清理元資訊：** `essay_guides/clean_metadata.py`

## 🆘 問題排查

### 如果題目被歸類錯誤
檢查 `classify_questions.py` 中的 `CATEGORIES` 定義，調整關鍵字。

### 如果有未歸類題目
1. 檢查 `99_unclassified.md`
2. 分析題目內容
3. 添加相應關鍵字到適當分類

### 如果格式不對
1. 檢查 `generate_markdown()` 函數
2. 確認是否使用最新版本的 `classify_questions.py`
3. 重新運行分類和美化腳本

### 如果內容丟失
1. **立即停止** 所有操作
2. 從備份檔案恢復（`*.md.backup`）
3. 或從 `processed_text/` 重新生成
4. 檢查腳本邏輯，確保不會刪除內容

---

**版本：** 1.0  
**最後更新：** 2025-11-30  
**適用科目：** 資訊安全、資料結構、資料庫應用、資訊管理等所有科目
