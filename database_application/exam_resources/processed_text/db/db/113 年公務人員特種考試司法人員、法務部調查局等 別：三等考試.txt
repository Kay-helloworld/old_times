113 年公務人員特種考試司法人員、法務部調查局
調 查 人 員 及 海 岸 巡 防 人 員 考 試 試 題
考 試 別：調查人員
等 別：三等考試
類 科 組：資訊科學組
科 目：資料庫應用
考試時間：2 小時 座號：
※注意：禁止使用電子計算器。
不必抄題，作答時請將試題題號及答案依照順序寫在試卷上，於本試題上作答者，不予計分。
本科目除專門名詞或數理公式外，應使用本國文字作答。
代號：41550
頁次：3－1
一、SQL 資料庫和 NoSQL 資料庫做比較，就資料模型的靈活性、資料庫的
可擴展性、資料庫的可用性、資料的一致性和完整性、查詢效率、維護
性等六方面，敘述優缺點並申論之。（25 分）
二、有一長照機構收容有需要被照顧的長者多名，每一名被照顧的長者在機
構內皆需登記身分證字號、姓名、性別和生日，且須登記與其他長者的
關係（如夫妻、兄弟、姊妹…等）。同時，還需有至少一名緊急聯絡人，
緊急聯絡人在機構內需留有身分證字號、姓名和電話等資料，不同長者
可以有相同之緊急聯絡人。機構擁有許多房間，分為 2 床型房（A 床
和 B 床）和 4 床型房（A 床、B 床、C 床和 D 床），每一房間皆有
房號，每一名被照顧的長者會被分配到一張床，分配的原則為 2 床型房
可以分配給夫妻或同性別的長者，4 床型房僅可以分配給同性別的長者。
長照機構聘請多名照護員，照護員需記載員工編號、員工身分證字號、姓
名、性別、住址、E-mail 和電話，其中員工編號和員工身分證字號是唯
一的，電話則可以有多支。每一照護員皆須照顧長者，以房間為照顧單
位，每一男性照護員照顧一間 4 床型房男性長者的房間或兩間 2 床型房
男性長者的房間，每一女性照護員照顧一間 4 床型房女性長者的房間
或兩間 2 床型房非男性長者的房間。
機構還有一項服務，即被照顧的長者需要看醫生時，機構會為其預約，
因此，機構記錄有每一位長者的最近看診日期、下次預約日期、看診醫
生，看診醫生紀錄有醫院名稱、醫生編號、醫生姓名和科別，醫院名稱
和醫生編號合起來是唯一的。
根據以上敘述，分析資料需求，畫出實體關係圖（ER-diagram）。圖中必
須標明實體型態（Entity Type）、弱實體型態（Weak Entity Type）、關係
型態（Relationship Type）、識別關係型態（Identifying Relationship Type）、
屬性（Attribute）等，亦需呈現基數比（Cardinality ratio ）和參與度
（Participation Constraint）兩種結構上的限制。若有需要，可自行假設需
求，但必須寫清楚。（25 分）
代號：41550
頁次：3－2
三、假設一個交易（transaction）有五種基本運算，分別是⑴begin（T）：交易
T 開始；⑵read（Y , y）：將硬碟資料項 Y 讀到主記憶體變數 y；⑶write
（y , Y）：將主記憶體變數 y 寫到硬碟資料項 Y；⑷commit（T）：交易 T
提交，表示 T 成功結束；⑸rollback（T）：交易 T 被駁回。
假設資料庫紀錄檔（database log）中用五種方式記錄交易的運算，分別
為：⑴[start, T]：交易T 開始；⑵[read, T, Y]：交易T 讀取資料項Y；⑶
[write, T, Y ,更新前的值, 更新後的值]：交易T 更新資料項Y；⑷[commit,
T]：交易T 提交；⑸[rollback, T]：交易T 被駁回。
在 WAL（Write-Ahead Logging）機制下，考慮交易T0、T1、T2 和 T3 四
個交易及以下的排程，
假設資料項之初始值 X=100、Y=425 和 Z=800，且記憶體夠大，作業系
統不主動將記憶體緩衝區的資料或 LOG 紀錄寫回硬碟，回答以下問題。
（每小題 10 分，共 30 分）
執行時間序 8 之後（時間序 9 之前），記憶體和硬碟中資料項和紀錄
檔的內容各為何？
執行時間序 16 之後（時間序 17 之前），記憶體和硬碟中資料項和紀
錄檔的內容各為何？
發生系統當機，系統復原後硬碟中資料項X、Y 和Z 的值為何？

代號：41550
頁次：3－3
四、全國高中籃球聯賽記錄球員資料的關聯綱目（Schema）為球隊編號, 球
隊名稱, 學校名稱, 比賽場次, 球員編號, 球員姓名, 位置, 球員學號,
年級, 得分數, 犯規數，如範例：（'T105', '火球隊', '冠軍高中', 5, 23, '王小
明', '得分後衛', 'B2123456', 2, 28, 3），其功能相依（Functional Dependency，
簡稱 FD）集合 F 如下：
{ 球隊編號 } → { 球隊名稱, 學校名稱 }
{ 學校名稱, 球員編號 } → { 球員姓名, 球員學號, 年級 }
{ 學校名稱, 球員學號 } → { 球員姓名, 球員編號, 年級 }
{ 球隊編號, 比賽場次, 球員編號 } → { 位置, 得分數, 犯規數 }
求 F 的最小集合（minimal set）。（5 分）
關聯鍵（Relational Key）或候選鍵（Candidate Key）為何？（5 分）
分解成滿足 3NF 的關聯綱目和每一關聯綱目之FD。（10 分）
